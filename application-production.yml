spring:
  application:
    name: dashboard
  boot:
    context:
      properties:
        ignore-unbound-configuration-properties: true
  # Thymeleaf configuration for production
  thymeleaf:
    cache: true
    mode: HTML
    encoding: UTF-8
  # Disable devtools in production
  devtools:
    restart:
      enabled: false
  # Security configuration
  security:
    filter:
      dispatcher-types: REQUEST

# Server configuration for production
server:
  port: 8080
  servlet:
    context-path: /dashboard
    session:
      timeout: 30m
  compression:
    enabled: true
    min-response-size: 1024
    mime-types: text/html,text/xml,text/plain,text/css,application/javascript,application/json,image/svg+xml
  error:
    whitelabel:
      enabled: false

# Logging configuration
logging:
  level:
    root: WARN
    com.integrationhub: INFO
    org.springframework.boot: INFO
    org.springframework.web: WARN
    org.springframework.security: WARN
  file:
    name: logs/dashboard.log
    max-size: 10MB
    max-history: 30
  pattern:
    file: "%d{yyyy-MM-dd HH:mm:ss} [%thread] %-5level %logger{36} - %msg%n"
    console: "%d{yyyy-MM-dd HH:mm:ss} [%thread] %-5level %logger{36} - %msg%n"

# TIBCO EMS Servers Configuration
# NOTE: Update these with your actual TIBCO server information
tibco:
  ems:
    servers:
      - name: TST2-ESB
        host: nlems921.nowlab.tstsh.tstrccl.com
        port: 7222
        username: admin
        password: adminShipPRD_TS
        ssl-enabled: false
      - name: TST2-SHORE
        host: nlems921.nowlab.tstsh.tstrccl.com
        port: 7444
        username: admin
        password: adminShipPRD_TS
        ssl-enabled: false
      - name: STG3-ESB
        host: nlems931.nowlab.tstsh.tstrccl.com
        port: 7222
        username: admin
        password: adminShipPRD_ST
        ssl-enabled: false
      - name: STG8-ESB
        host: nlems981.nowlab.tstsh.tstrccl.com
        port: 7222
        username: admin
        password: adminShipPRD_ST
        ssl-enabled: false
      # Add more servers as needed

# Application performance settings
management:
  endpoints:
    web:
      exposure:
        include: health,info
  endpoint:
    health:
      show-details: when-authorized
  metrics:
    export:
      simple:
        enabled: true

# Session configuration
server:
  session:
    timeout: 30m
    cookie:
      http-only: true
      secure: false  # Set to true if using HTTPS
      same-site: Strict

# Actuator endpoints (production)
management:
  endpoints:
    web:
      exposure:
        include: health,info
      base-path: /actuator

---
# Production-specific overrides using Spring profiles
# Usage: java -Dspring.profiles.active=production ...

spring:
  config:
    activate:
      on-profile: production
  jpa:
    hibernate:
      ddl-auto: validate
  devtools:
    restart:
      enabled: false

server:
  compression:
    enabled: true
  error:
    include-message: never
    include-binding-errors: never
    include-stacktrace: never
    include-exception: false

logging:
  level:
    root: WARN
    com.integrationhub: INFO
  file:
    name: /var/log/tomcat/dashboard.log
    max-size: 10MB
    max-history: 30
